<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">


	<link href='https://unpkg.com/boxicons@2.0.9/css/boxicons.min.css' rel='stylesheet'>

	<link rel="stylesheet" href="../style.css">

	<title>Edit Student Account</title>
</head>

<body>


	<!-- SIDEBAR -->
	<section id="sidebar">
		<a href="#" class="brand">
			<img src="../img/uic-logo.png" class="logo-icon" />
			<span class="text ClinLabtext">ClinLab</span>
		</a>

		<section id="sidebar">
			<a href="#" class="brand">
				<img src="../img/uic-logo.png" class="logo-icon" />
				<span class="text Logotext">UIC</span>
			</a>
	
			<ul class="side-menu top">
	
				<li>
					<a href="#">
						<i class='bx bx-test-tube'></i>
						<span class="text">Report</span>
					</a>
					<ul class="sub-menu">
	
						<li>
							<a href="../Report/urinalysis_report.html">
								<span class="text sub-text">Urinalysis</span>
							</a>
						</li>
						<li>
							<a href="../Report/Blood_Type.html">
								<span class="text sub-text">Blood Type</span>
							</a>
						</li>
	
					</ul>
				</li>
	
				<li>
					<a href="../View_record/View_record.html">
						<i class='bx bxs-folder-open'></i>
						<span class="text">View Student Account</span>
					</a>
				</li>
	
				<li>
					<a href="../Account/Add_Account.html">
						<i class='bx bxs-user-account'></i>
						<span class="text">Add Account</span>
					</a>
				</li>
	
	
	
			</ul>
			<ul class="side-menu">
	
				<li>
					<a href="#" class="logout">
						<i class='bx bxs-log-out-circle'></i>
						<span class="text">Logout</span>
					</a>
				</li>
			</ul>
		</section>
		<ul class="side-menu">

			<li>
				<a href="#" class="logout">
					<i class='bx bxs-log-out-circle'></i>
					<span class="text">Logout</span>
				</a>
			</li>
		</ul>
	</section>
	<!-- SIDEBAR -->



	<!-- CONTENT -->
	<section id="content">
		<!-- NAVBAR -->
		<nav>
			<i class='bx bx-menu'></i>
			<a class="nav-link">UIC Clinical Laboratory</a>


		</nav>
		<!-- NAVBAR -->

		<!-- MAIN -->
		<main>
			<div class="head-title">
				<div class="left">

					<ul class="breadcrumb">
						<li>
							<a class="active" href="#">Edit Account</a>
						</li>
					</ul>
				</div>

			</div>




			<div class="table-data">
				<div class="order">
					<div class="title">Edit Account</div>
					<div class="content">
						<!-- Registration form -->
						<form id="edit-account-form" action="../Account/EditAccount.php" method="POST">
							<input type="hidden" name="student_id" id="student_id" value="">
					
							<div class="user-details">
								<div class="input-box">
									<span class="details">First Name</span>
									<input type="text" name="first_name" id="first_name" placeholder="Enter your firstname" required>
								</div>
								<div class="input-box">
									<span class="details">Last Name</span>
									<input type="text" name="last_name" id="last_name" placeholder="Enter your lastname" required>
								</div>
								<div class="input-box">
									<span class="details">Gender:</span>
									<select name="gender" id="gender" required>
										<option value="" disabled selected>Select Gender</option>
										<option value="F">Female</option>
										<option value="M">Male</option>
									</select>
								</div>
								<div class="input-box">
									<span class="details">Email</span>
									<input type="text" name="email" id="email" placeholder="Enter your email" required>
								</div>
								<div class="input-box">
									<span class="details">Phone Number</span>
									<input type="text" name="phone" id="phone" placeholder="Enter your number" required>
								</div>
								<div class="input-box">
									<span class="details">Course & Year:</span>
									<input type="text" name="course_year" id="course_year" placeholder="Enter course and year" required>
								</div>
								<div class="input-box">
									<span class="details">Department:</span>
									<input type="text" name="department" id="department" placeholder="Enter department" required>
								</div>
								<div class="input-box">
									<span class="details">Password</span>
									<input type="password" name="password" id="password" placeholder="Enter your password" required>
								</div>
								<div class="input-box">
									<span class="details">Confirm Password</span>
									<input type="password" name="confirm_password" id="confirm_password" placeholder="Confirm your password" required>
								</div>
							</div>
							<div class="button">
								<input type="submit" value="Update Account">
							</div>
						</form>
					
					
						
					</div>

				</div>



			</div>
			</div>
		</main>
		<!-- MAIN -->
	</section>
	<!-- CONTENT -->


	<script src="../script.js"></script>
	<script>
		document.querySelectorAll('.side-menu > li > a').forEach(item => {
			item.addEventListener('click', function (e) {
				const subMenu = this.nextElementSibling;
				const parentLi = this.parentElement;


				document.querySelectorAll('.side-menu .sub-menu').forEach(menu => {
					if (menu !== subMenu) {
						menu.style.display = 'none';
						menu.parentElement.classList.remove('expanded');
					}
				});

				if (subMenu) {

					if (subMenu.style.display === 'block') {
						subMenu.style.display = 'none';
						parentLi.classList.remove('expanded');
					} else {
						subMenu.style.display = 'block';
						parentLi.classList.add('expanded');
					}
				}

			});
		});


		document.querySelectorAll('.side-menu .sub-menu li a').forEach(subItem => {
			subItem.addEventListener('click', function () {

				const subMenu = this.closest('.sub-menu');
				if (subMenu) {
					subMenu.style.display = 'none';
					subMenu.parentElement.classList.remove('expanded');
				}
			});
		});
	</script>

<script>
	document.addEventListener("DOMContentLoaded", function () {

	  const urlParams = new URLSearchParams(window.location.search);
	  const studentId = urlParams.get('id');
  

	  console.log("Editing account with ID:", studentId);
  

	  fetch(`../Account/get_account.php?id=${studentId}`)
		.then(res => res.json())
		.then(data => {
		  if (data) {

			document.getElementById('student_id').value = data.student_id;
			document.getElementById('first_name').value = data.first_name;
			document.getElementById('last_name').value = data.last_name;
			document.getElementById('gender').value = data.gender;
			document.getElementById('email').value = data.email;
			document.getElementById('phone').value = data.phone;
			document.getElementById('course_year').value = data.course_year;
			document.getElementById('department').value = data.department;
		  }
		})
		.catch(error => {
		  console.error('Error fetching account data:', error);
		});
	});
  </script>
  
  


</body>

</html>